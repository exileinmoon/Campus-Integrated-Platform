package stu.loginservice.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.web.bind.annotation.*;
import stu.loginservice.entity.Users;
import stu.loginservice.service.SmsService;
import stu.loginservice.service.UsersService;
import stu.loginservice.util.VerificationCodeService;

@RestController
@RequestMapping("api/auth")
public class RegistrationController {

    @Autowired
    private SmsService smsService;

    @Autowired
    private VerificationCodeService verificationCodeService;
    @Autowired
    private UsersService usersService;

    // 发送验证码
    @PostMapping("/send-captcha")
    public ResponseEntity<String> sendCaptcha(@RequestParam String phoneNumber) {
        String code = verificationCodeService.generateCode();
        try {
            smsService.sendSms(phoneNumber, code);
            // 将验证码存储在缓存或数据库中以供验证
            verificationCodeService.storeCode(phoneNumber, code);
            return ResponseEntity.ok("验证码已发送");
        } catch (Exception e) {
            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body("验证码发送失败");
        }
    }

//    // 验证验证码
//    @PostMapping("/validate-captcha")
//    public ResponseEntity<String> validateCaptcha(@RequestParam String phoneNumber, @RequestParam String captcha) {
//        boolean isValid = verificationCodeService.validateCode(phoneNumber, captcha);
//        if (isValid) {
//            return ResponseEntity.ok("验证码验证成功");
//        } else {
//            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body("验证码验证失败");
//        }
//    }

    // 注册用户
    @PostMapping("/register")
    public ResponseEntity<String> register(@RequestParam String username, @RequestParam String phoneNumber,
                                           @RequestParam String captcha, @RequestParam String password,@RequestParam String email) {
        // 验证验证码
//        boolean isValid = verificationCodeService.validateCode(phoneNumber, captcha);
//        if (!isValid) {
//            return ResponseEntity.status(HttpStatus.BAD_REQUEST).body("验证码不正确");
//        }
        Users user = new Users();
        user.setUsername(username);
        user.setPhone(phoneNumber);
        user.setRole("editor");
        user.setPassword_hash(password);
        user.setAvatar("data:image/jpeg;base64,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");
        user.setEmail(email);
        usersService.register(user);

        return ResponseEntity.ok("用户注册成功");
    }
}
